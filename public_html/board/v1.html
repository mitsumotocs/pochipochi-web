<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="./v1.css" rel="stylesheet">
    <title>Board v1</title>
    <script src="https://kit.fontawesome.com/92ac308575.js" crossorigin="anonymous"></script>
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const canvasElement = document.querySelector("main>canvas");
            const canvasContext = canvasElement.getContext("2d");

            function resize() {
                canvasElement.width = window.innerWidth;
                canvasElement.height = window.innerHeight;
            }
            window.addEventListener("resize", resize);
            resize();

            canvasContext.lineWidth = 3;
            canvasContext.lineWidth = "round";
            canvasContext.strokeStyle = "#000";
            console.log(canvasContext);

            let isDrawing = false;
            let lastX = 0, lastY = 0;
            let needsRedraw = false;

            canvasElement.addEventListener("pointerdown", (event) => {
                isDrawing = true;
                lastX = event.offsetX;
                lastY = event.offsetY;
            });

            canvasElement.addEventListener("pointermove", (event) => {
                if (!isDrawing) return;

                const x = event.offsetX;
                const y = event.offsetY;
                drawLine(lastX, lastY, x, y);
                lastX = x;
                lastY = y;
            });

            canvasElement.addEventListener("pointerup", () => isDrawing = false);
            canvasElement.addEventListener("pointerout", () => isDrawing = false);

            function drawLine(x1, y1, x2, y2) {
                canvasContext.beginPath();
                canvasContext.moveTo(x1, y1);
                canvasContext.lineTo(x2, y2);
                canvasContext.stroke();
            }
        });


    </script>
</head>

<body>
    <main>
        <canvas></canvas>
    </main>
    <div class="top">
        <div class="top-left">
            <button type="button"><i class="fa-regular fa-file"></i></button>
            <button type="button"><i class="fa-solid fa-grid-2"></i></button>
        </div>
        <div class="top-center">
            <div class="clock">12:34</div>
        </div>
        <div class="top-right">
            <button type="button"><i class="fa-regular fa-trash-xmark"></i></button>
        </div>
    </div>
    <div class="bottom">
        <div class="bottom-left">
            <button type="button" class="selectable selected size" data-size="32px"><i
                    class="fa-solid fa-circle"></i></button>
            <button type="button" class="selectable size" data-size="16px"><i class="fa-solid fa-circle"></i></button>
            <button type="button" class="selectable size" data-size="8px"><i class="fa-solid fa-circle"></i></button>
        </div>
        <div class="bottom-right">
            <button type="button" class="selectable color" data-color="#000000"><i
                    class="fa-solid fa-circle"></i></button>
            <button type="button" class="selectable selected color" data-color="#FFFFFF"><i
                    class="fa-solid fa-circle"></i></button>
            <button type="button" class="selectable color" data-color="#D32F2F"><i
                    class="fa-solid fa-circle"></i></button>
            <button type="button" class="selectable color" data-color="#303F9F"><i
                    class="fa-solid fa-circle"></i></button>
            <button type="button" class="selectable color" data-color="#388E3C"><i
                    class="fa-solid fa-circle"></i></button>
            <button type="button" class="selectable color" data-color="#FBC02D"><i
                    class="fa-solid fa-circle"></i></button>
        </div>
    </div>
</body>

</html>